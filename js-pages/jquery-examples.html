<!DOCTYPE html> 
<html lang="ru">

<head> 
    <title>Мой Справочник | JS | jQuery-примеры</title>
    <meta charset="utf-8"> 
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1"> 
    <link rel="stylesheet" type="text/css" href="../css/layout.css">

    <style>
			tr > td:first-child {
				font-size: 1.5em;
			}
			.code {
				border: 1px solid #000;
			}
			.code code {
				font-size: 18px;
				font-family: monospace;
				line-height: 1.3em;
			}
			.code code span {
				color: #aaa;
			}
			.code code b {
				color: red;
			}
			.stars-cont {
		    display: inline;
		    padding-left: 20px;
		    font-size: 0;
			}
			.stars-cont .star {
		    display: inline-block;
		    vertical-align: top;
		    box-sizing: border-box;
		    width: 25px;
		    height: 25px;
		    background-image: url(../img/stars_25.png);
		    background-repeat: no-repeat;
		    background-position: -5px -5px;
		    margin-right: 5px;
		    cursor: pointer;
		}
		.overlay {
		  display: none;
		  background: rgba(0,0,0,.7);
		  width: 100%;
		  height: 100%;
		  position: fixed;
		  top: 0;
		  left: 0;
		  z-index: 10000;
		}
		.modal {
		  display: none;
		  position: fixed;
		  background: white;
		  width: 300px;
		  top: 100px;
		  left: 50%;
		  margin;left: -150px;
		  z-index: 1000;
		}
		body.open-modal {
		  overflow-y: hidden;
		  padding-right: 16px;
		}
		</style>
</head>

<body>
<div class="header">
	<div class="layout-positioner clearfix">
	<div class="header-title"><strong><a href="../index.html">Справочник HTML/CSS/JavaScript</a></strong></div>
	<div class="header-logo"></div>
		<ul class="header-menu">
		<li><a href="../index.html">Главная</a></li>
		<li><a href="../design-page.html">WEB-DESIGN</a></li>
		<li><a href="../html-page.html">HTML</a></li>
		<li><a href="../css-page.html">CSS</a></li>
		<li><a href="../css3-page.html">CSS3</a></li>
		<li><a class="active" href="../javascript-page.html">JS</a></li>
		<li><a href="../php.html">PHP</a></li>
		
		
	</ul>
	</div>
</div>

<div class="layout-positioner clearfix">
	<div class="vert-menu-cont">
		<ul class="vert-menu">
            <li>
                <a href="#">Основы</a>
                <ul class="sub-menu sub-menu9">
                  <li><a href="js-lang.html">Язык JS</a></li>
                  <li><a href="load.html">Загрузка</a></li>
    			        <li><a href="types.html">Типы данных</a></li>
    			        <li><a href="var.html">Переменные</a></li>
    			        <li><a href="operators.html">Операторы</a></li>
    			        <li><a href="algorythm.html">Алгоритмы</a></li>
    			        <li><a href="if-else.html">if - else, switch-case</a></li>
    			        <li><a href="cycle.html">Циклы</a></li>
                  <li><a href="math.html">Math</a></li>
                </ul>
            </li>
            <li><a href="array.html">Массивы</a></li>
            <li><a href="function.html">Функции</a></li>
			<li><a href="object.html">Объекты</a></li>
            <li>
                <a href="#">JS &amp; HTML</a>
                <ul class="sub-menu sub-menu6">
                  <li><a href="complete.html">Вывод данных</a></li>
    			        <li><a href="dom.html">DOM</a></li>
    			        <li><a href="html-methods.html">Методы</a></li>
    			        <li><a href="actions.html">События</a></li>
    			        <li><a href="modal-window.html">Мод. окно</a></li>
    			        <li><a href="forms.html">Формы</a></li>
                </ul>
            </li>
			
			<li>
  	    <a class="active" href="#">jQuery</a>
  	    <ul class="sub-menu sub-menu7">
  	        <li><a href="jquery-html.html">JQuery basics</a></li>
  	        <li><a href="jquery-func.html">jQuery-функции</a></li>
            <li><a href="jquery-actions.html">jQuery-события</a></li>
  	        <li><a href="jquery-effects.html">jQuery-эффекты</a></li>
            <li><a href="jquery-forms.html">jQuery-формы</a></li>       
            <li><a href="jquery-examples.html">Примеры</a></li>
        </ul>
			 </li>
			 <li><a href="storage.html">Storage</a></li> <li><a href="ajax.html">Ajax</a></li>
			 <li><a href="canvas.html">Canvas</a></li>
			 <li><a href="git.html">Git + SSH</a></li>
			 <li><a href="console.html">Консоль</a></li>
			 <li><a href="project.html">Новый проект</a></li>
		</ul>
	
	
	</div>
	<div class="content clearfix">
	
	<h2>Мой Справочник | JavaScript | jQuery-примеры</h2>

	<h2>1. Плавный скроллинг до блока (.block-class) при нажатии на ссылку\кнопку (.link-class)</h2>
    <button class="scroll  js-scroll">
      1. Scroll to footer
    </button>
		<pre class="code"><code>&lt;button class="<b>js-scroll</b>"&gt;<span>1. Scroll to footer</span>&lt;/button&gt;
<hr><span>// До одного блока</span>
$(function() {
  $("<b>.link-class</b>").on("<b>click</b>", function(event) { <span>// анонимная функция</span>
    <span>// сброс настроек</span>
    event.preventDefault();

    <span>// сохраняем расстояние до h1 в переменную</span>
    var <mark>scrollToBlock</mark> = $("<b>.block-class</b>").offset().top;

    <span>// скролим тело документа (html и body для кроссбраузерности) на расстояние scrollHight 500млс</span>
    $("<b>html, body</b>").animate({ scrollTop: <mark>scrollToBlock</mark> }, 500);
  });
});
<hr><span>// Если нужны разные скролы по нескольким ссылкам</span>
$(function() {
  <span>// вставляем общий селектор для всех ссылок меню</span>
  $("<b>ul.menu a</b>").on("<b>click</b>", function(event) { 
    <span>// сброс настроек</span>
    event.preventDefault();

    <span>// сохраняем id блока, это будет значение атрибута href кликнутой ссылки, 
    // ссылки должны быть связаны с блоками по id</span>
    var <mark>currentBlock</mark> = $(this).attr('href');


    <span>// делаем выборку элемента по сохранённому id, и вычисляем до него расстояние </span>
    var <mark>topHeight</mark> = $(<mark>currentBlock</mark>).offset().top;

    <span>// скролим при клике до нужного блока</span>
    $("<b>html, body</b>").animate({ scrollTop: <mark>topHeight</mark> + 20}, 500);
  });
});</code></pre>


	<h2>2. Фиксированное меню при скролле</h2>
	<span class="gray">// Fixed header when scroll</span>
	<pre class="code"><code>$(function() {
  <span>// сохранем значение высоты хэдера в var</span>
  var <mark>headerHeight</mark> = $("<b>.page-header</b>").innerHeight(); <span>// или height()</span>

  <span>// улавливаем событие скрола</span>
  $(document).on("<b>scroll</b>", function() {
    <span>// текущее значение высоты скрола от верха окна при скроле</span>
    var <mark>documentScroll</mark> = $(this).scrollTop();

    <span>// Если высота скрола > высоты хэдера</span>
    if(<mark>documentScroll</mark> > <mark>headerHeight</mark>) {
      <span>// добавляем класс хедеру</span>
      $("<b>.page-header</b>").addClass("fixed"); 

      <span>// и padding для body на высоту хэдера (т.к. фикс. хэдер выходит из потока)</span>
      $("<b>body</b>").css("paddingTop", headerHeight);  
    } esle {
      $("<b>.page-header</b>").removeClass("fixed");
      $("<b>body</b>").css({"paddingTop": 0});
    }
  });
});</code></pre>

<h2>3. Звёзды рейтинга</h2>
<div class="stars-cont">
	<form action="#">
		<label class="star" id="label1" for="star-1"></label>
		<label class="star" id="label2" for="star-2"></label>
		<label class="star" id="label3" for="star-3"></label>
		<label class="star" id="label4" for="star-4"></label>
		<label class="star" id="label5" for="star-5"></label>
	</form>
</div>
<pre class="code"><code>$(document).ready(function() {
  $("<b>.star-input</b>").on("click", function() {
    <span>// выводим зачение поля в консоль</span>
    console.log($(<b>this</b>).val());
  });

  $("<b>.star</b>").on("click", function() {
    $(<b>this</b>).<mark>css</mark>('background-position', '-40px -5px');
    $(<b>this</b>).<mark>nextAll</mark>().css('background-position', '-5px  -5px');
    $(<b>this</b>).<mark>prevAll</mark>().css('background-position', '-40px -5px');
  });
});
</code></pre>
	
<h2>4. Отслеживание элементов в DOM через .get()</h2>

<pre class="code"><code>$(document).ready(function() {
  var firstBtn  = $('<b>#btn-1</b>'),
    secondBtn   = $('<b>#btn-2</b>'),
    firstTitle  = $('<b>.js-title-1</b>'),
    secondTitle = $('<b>.js-title-2</b>');
 
  firstTitle.on('click', function() {
    secondBtn.<b>get(0)</b>.<b>checked</b> = false;
    firstBtn.<b>get(0)</b>.<b>checked</b> = true;
    firstTitle.css('color', 'orange');
    secondTitle.css('color', 'black');
  });
  
  secondTitle.on('click', function() {
    firstBtn.<b>get(0)</b>.<b>checked</b> = false;
    secondBtn.<b>get(0)</b>.<b>checked</b> = true;
    secondTitle.css('color', 'orange');
    firstTitle.css('color', 'black');
  });
});
</code></pre>

<h2>5. Аккордион (НЕсамозакрывающийся)</h2>
<pre class="code"><code><span>// нужно предварительно средствами css спрятать параграфы</span>
$('.accordion h3').on('click', function() {
  <span>// по клику на заголовок показываем следующий за ним параграф</span>
  $(this).next().slideToggle(); 
});
</code></pre>

<h2>6. Аккордион (Cамозакрывающийся) (ХЗ как работает)</h2>
<pre class="code"><code>$('.accord p').hide()  <span>// прячем все параграфы средствами css и jq</span>
              .prev() <span>// обращаемся к предыдущему элементу (заголовку)</span>
              .on('click', function() { <span>// отслеживаем его по клику</span>
  $('.accord p').not(<b>this</b>).slideUp();   <span>// прячем все параграфы, кроме текущего</span>
  $(<b>this</b>).next().not('<b>:visible</b>').slideDown();  <span>// обращаемся к следующему за заголовком 
  // элементу, за this (заголовок), это параграф и если он неотображенный, то будет показан</span>
});
</code></pre>

<h2>7. Модальное окно</h2> 

<pre class="code"><code>&lt;button class="<b>show-modal</b>">Show modal&lt;/button&gt;
<span>// должен стоять перед модальным окном</span>
&lt;div class="<b>overlay</b>"&gt;&lt;/div&gt;

<span>// должен стоять перед /body</span>
&lt;div class="<b>modal</b>"&gt;
  <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempora optio cum dolores</span>
  &lt;button class="<b>modal-close</b>"&gt;Закрыть мод. окно&lt;/button&gt;
&lt;/div&gt;</code></pre>

<pre class="code" style="float: left;"><code><span>// слой-маска для body</span>
<b>.overlay</b> {
  display: none;
  background: rgba(0,0,0,.7);
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 1000;
}</code></pre>

<pre class="code" style="float: left;"><code><span>// мод. окно</span>
<b>.modal</b> {
  display: none;
  position: fixed;
  background: white;
  width: 300px;
  top: 100px;
  left: 50%;
  margin-left: -150px;
  z-index: 1000;
}
<b>body.open-modal</b> {
  overflow-y: hidden;
  padding-right: 16px;
}</code></pre>


<pre class="code" style="float: left;"><code><span>// показываем при клике на кнопку</span>
$('<b>.show-modal</b>').on('click', function(e) {
  e.preventDefault();
  <span>// планое появление мод. окна и маски</span>
  $('<b>.modal, .overlay</b>').fadeIn();
  <span>// убираем скролл у боди</span>
  $('<b>body</b>').addClass('open-modal');
});

<span>// делаем обратное при клике на close</span>
$('<b>.modal-close</b>').on('click', function(e) {
  e.preventDefault();
  $('<b>.modal, .overlay</b>').fadeOut();
  $('<b>body</b>').removeClass('open-modal');
});


<span>// если мод. окон несколько с одним классом</span>
<span>// тогда нужно привязать им разный id</span>
$('<b>.show-modal</b>').on('click', function(e) {
  e.preventDefault();
  <span>// сохраняем значение атрибута в переменную</span>
  var currentModal = $(this).attr('href');

  $(<b>currentModal +  ', .overlay</b>').fadeIn();
  $('<b>body</b>').addClass('open-modal');
});

$('<b>.modal-close, .overlay</b>').on('click', function(e) {
  e.preventDefault();
  $(<b>currentModal +  ', .overlay</b>').fadeOut();
  $('<b>body</b>').removeClass('open-modal');
});

</code></pre>

<h2 style="clear: both;">8. Всплывающие подсказки при наведении (pop-up)</h2>
<pre class="code"><code>$('<b>.js-popup</b>').hover(function() {
  var $this = $(this),
      popUpId = $this.attr('href');
  $(popUpId).fadeIn();  <span>// появление при наведении</span>
}, function() {
  $('<b>.js-popup</b>').fadeOut();  <span>// исчезовение при отведении</span>
});
  
</code></pre>


<h2 style="clear: both;">9. Выпадающий текст</h2>
<pre class="code"><code><span>// Обрабатываем все элементы списка методом .each()</span>
$('.list-item').<b>each</b>(function() {
  <span>// сохраняем выпадающий текст внутри текущего элемента списка в пер. text</span>
  var <mark>text</mark> = $('<b>.js-drop-down-text</b>', this);

  <span>// Улавливаем клик по ссылке внутри текущего элемента</span>
  $('<b>.js-details</b>', this).on('click', function(e) {
    e.preventDefault();
    <span>// меняем стилизацию кнопки</span>
    $(this).toggleClass('active');

    <span>// показываем-скрываем текст при клике</span>
    <mark>text</mark>.toggle();
  });
});
</code></pre>


	</div>
</div>

<div class="footer">
	<div class="layout-positioner">
		<p class="footer-text">Разработчик: Евгений Леухин<br>
							   EvgenyLeukhin@yandex.ru</p>
		
		<p class="footer-copyright">© 2017 Все права защищены</p>
	</div>
</div>

<div class="js-modal">
	<a class="js-modal-close">Закрыть</a>
</div>
<div class="js-overlay"></div>

<script src="../js/jquery-3.1.0.min.js"></script>
<script>
	$(document).ready(function() {

		// =========================================================================== 1. SCROLL TO FOOTER
		$(".js-scroll").on("click", function(event) { // анонимная функция
    // сброс настроек
    event.preventDefault();

    // сохраняем расстояние до h1 в переменную
    var scrollToBlock = $(".footer").offset().top;

    // скролим тело документа (html и body для кроссбраузерности) на расстояние scrollHight 500млс
    $("html, body").animate({ scrollTop: scrollToBlock }, 1000);
  	});




		// =========================================================================== 2. RATING STARS
		$(".star").on("click", function() {
	    $(this).css('background-position', '-40px -5px');
	    $(this).nextAll().css('background-position', '-5px  -5px');
	    $(this).prevAll().css('background-position', '-40px -5px');
	  });




	// =========================================================================== 3. SHOW modal
	// показываем при клике на кнопку
	$('.js-show-modal').on('click', function(e) {
	  e.preventDefault();
	  // планое появление мод. окна и маски
	  $('.js-modal, .js-overlay').fadeIn();
	  // убираем скролл у боди
	  $('body').addClass('open-modal');
	});

// делаем обратное при клике на close
	$('.js-modal-close').on('click', function(e) {
	  e.preventDefault();
	  $('.js-modal, .js-overlay').fadeOut();
	  $('body').removeClass('open-modal');
	});






});
</script>

</body>
</html>