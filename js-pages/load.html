<!DOCTYPE html>
<html lang="ru">

<head>
    <title>Мой Справочник | JS | Загрузка</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="../css/layout.css">
</head>

<body>
<div class="header">
	<div class="layout-positioner clearfix">
	<div class="header-title"><strong><a href="../index.html">Справочник HTML/CSS/JS</a></strong></div>
	<div class="header-logo"></div>
		<ul class="header-menu">
		<li><a href="../index.html">Главная</a></li>
		<li><a href="../design-page.html">WEB-DESIGN</a></li>
		<li><a href="../html-page.html">HTML</a></li>
		<li><a href="../css-page.html">CSS</a></li>
        <li><a href="../css3-page.html">CSS3</a></li>
		<li><a class="active" href="../javascript-page.html">JS</a></li>
		<li><a href="../php.html">PHP</a></li>


	</ul>
	</div>
</div>

<div class="layout-positioner clearfix">
	<div class="vert-menu-cont">
		<ul class="vert-menu">
            <li>
                <a class="active" href="#">Основы</a>
                <ul class="sub-menu sub-menu9">
                    <li><a href="js-lang.html">Язык JS</a></li>
                    <li><a href="load.html">Загрузка</a></li>
			        <li><a href="types.html">Типы данных</a></li>
			        <li><a href="var.html">Переменные</a></li>
			        <li><a href="operators.html">Операторы</a></li>
			        <li><a href="algorythm.html">Алгоритмы</a></li>
			        <li><a href="if-else.html">Условия</a></li>
			        <li><a href="cycle.html">Циклы</a></li>
                    <li><a href="math.html">Math</a></li>
                </ul>
            </li>
            <li><a href="array.html">Массивы</a></li>
            <li><a href="function.html">Функции</a></li>
			<li><a href="object.html">Объекты</a></li>
            <li>
                <a href="#">JS &amp; HTML</a>
                <ul class="sub-menu sub-menu6">
                    <li><a href="complete.html">Вывод данных</a></li>
			        <li><a href="dom.html">DOM</a></li>
			        <li><a href="html-methods.html">DOM-методы</a></li>
			        <li><a href="actions.html">События</a></li>
			        <li><a href="modal-window.html">Мод. окно</a></li>
			        <li><a href="forms.html">Формы</a></li>
                </ul>
            </li>

            <li>
              <a href="react.html"><span class="react">React</span></a>
              <ul class="sub-menu sub-menu-react">
                <li><a href="#"></a></li>
              </ul>
            </li>
            <li>
              <a href="nodejs.html"><span class="react">node.js</span></a>
              <ul class="sub-menu sub-menu-nodejs">
                <li><a href="#"></a></li>
              </ul>
            </li>


			<li>
			    <a href="#">jQuery</a>
			    <ul class="sub-menu sub-menu7">
			        <li><a href="jquery-html.html">JQuery basics</a></li>
			        <li><a href="jquery-func.html">jQuery-функции</a></li>
                    <li><a href="jquery-actions.html">jQuery-события</a></li>
			        <li><a href="jquery-effects.html">jQuery-эффекты</a></li>
                    <li><a href="jquery-forms.html">jQuery-формы</a></li>
                    <li><a href="jquery-plugins.html">jQuery-плагины</a></li>
                    <li><a href="jquery-examples.html">Примеры</a></li>
                </ul>
			 </li>
			  <li><a href="ajax.html">Ajax</a></li>
			 <li>
   <a href="canvas.html">Canvas</a>
   <ul class="sub-menu sub-menu9">
       <a href="canvas.html">Настройка</a>
       <a href="canvas-figures.html">Фигуры</a>
       <a href="canvas-text.html">Текст</a>
       <a href="canvas-animation.html">Примеры</a>
   </ul>
</li>


			 <li><a href="modules.html">Классы</a></li><li><a href="webpack.html"><span class="react">Webpack</span></a></li>
             <li><a href="../css3-pages/grunt.html">Grunt</a></li>
             <li><a href="../css3-pages/gulp.html">Gulp</a></li>

		</ul>


	</div>
	<div class="content clearfix">

	    <h2>Мой Справочник | JavaScript | Загрузка</h2>

        <table class="discription-table" border-spacing: 5px;>
            <tr>
                <th colspan="4" style="font-size: 2em; color: darkcyan;">&lt;script&gt;</th>
            </tr>
            <tr>
                <td style="color: black; font-weight: bold; width: 300px;">
                    Загрузка скриптов
                </td>
                <td style="width: 400px;">
                    <code><pre>
<span class="gray">/*код внутри тега &lt;script&gt;*/</span>
&lt;script&gt;
    ...
&lt;/script&gt;<hr>
<span class="gray">//внешний файл</span>
&lt;script <span class="red">src="main.js"</span>&gt;&lt;/script&gt;
<span class="gray">//Если записан код внутри тега &lt;script&gt;
с атрибутом src, то код будет проигнорирован</span></pre></code>
                </td>
                <td style="width: 300px; color: #555;">
                    Скрипты-библиотеки нужно подключать внутри &lt;head&gt;, а остальные перед
                    &lt;/body&gt;, чтобы скрипты начали работать только после полной загрузки страницы <br> <br>
                    Если скрипт подключен внутри разметки без каких-либо атрибутов загрузки, то он БУДЕТ БЛОКИРОВАТЬ дальнейшую загрузку страницы пока он не скачается и не выполниться, поэтому лучше всего подключать скрипты перед &lt;/body&gt;
                </td>
            </tr>
            <tr>
                <th colspan="4" style="font-size: 2em; color: darkcyan;">Асинхронная загрузка</th>
            </tr>
            <tr>
                <td rowspan="2" style="color: black; font-weight: bold; width: 300px;">
                  <h1>async</h1> <br> <br>
                  <mark>Без src-атрибута использовать НЕЛЬЗЯ</mark>
                </td>
                <td style="width: 400px;">
                    <code><pre>
&lt;script <span class="red">async="true"</span> src="<span class="gray">main.js</span>"&gt;&lt;/script&gt;</pre></code>
                </td>
                <td style="width: 300px; color: #555;">
                  При старте загрузкеи скрипта не будет блокироваться отрисовка html, но будет блокироваться при старте выполнения скрипта(после окончания загрузки)
                </td>
            </tr>
            <tr>
                <td style="width: 400px;">
                    <code><pre>
&lt;script <span class="red">async="true"</span> src="<span class="gray">main.js</span>"&gt;&lt;/script&gt;
&lt;script <span class="red">async="true"</span> src="<span class="gray">forms.js</span>"&gt;&lt;/script&gt;
&lt;script <span class="red">async="true"</span> src="<span class="gray">gallery.js</span>"&gt;&lt;/script&gt;</pre></code>
                </td>
                <td style="width: 300px; color: #555;">
Если скриптов с <span class="red">async</span> несколько, то порядок их загрузки и выполнения может не совпать с порядком в коде. Какой скрипт згрузится первым - тот и будет первым выполняться
                </td>
            </tr>

            <tr>
                <td  rowspan="2" style="color: black; font-weight: bold; width: 300px;">
                  <h1>defer</h1> (После загрузки страницы)
                </td>
                <td style="width: 400px;">
                    <code><pre>
&lt;script <span class="red">defer</span> src="<span class="gray">main.js</span>"&gt;&lt;/script&gt;</pre></code>
                </td>
                <td style="width: 300px; color: #555;">Скрипт не будет блокировать отрисовку страницы даже после загрузки, он будет ждать момента, когда страница отрисуется полностью.</tr>
            <tr>
                <td style="width: 400px;">
                    <code><pre>
&lt;script <span class="red">defer</span> src="<span class="gray">main.js</span>"&gt;&lt;/script&gt;
&lt;script <span class="red">defer</span> src="<span class="gray">forms.js</span>"&gt;&lt;/script&gt;
&lt;script <span class="red">defer</span> src="<span class="gray">gallery.js</span>"&gt;&lt;/script&gt;</pre></code>
                </td>
                <td style="width: 300px; color: #555;">
Если скриптов с <span class="red">defer</span> несколько, то порядок их выполнения БУДЕТ СОВПАДАТЬ с порядком
в коде (пока не выполнился первый, второй будет ждать, даже если загрузился раньше)
                </td>
            </tr>

            <tr>
                <th colspan="4" style="font-size: 2em; color: darkcyan;">&lt;noscript&gt;</th>
            </tr>
            <tr>
                <td style="color: black; font-weight: bold; width: 300px;">
<p style="text-align: justify; line-height: 1.3em;">Этот тег применяют на случай, когда язык JS по каким-либо причинам не работает на странице и основные скрипты
не работают. Чаще всего внутрь этого тега помещают <code style="line-height: inherit;">&lt;link&gt;</code> со стилями скрывающими интерактивность,
чтобы у посетителей без JS не отображались на странице неработающие кнопки, галлереи и т.д.</p></td>

                <td style="width: 400px;">
                    <code><pre>
&lt;noscript>
    &lt;link rel="stylesheet"
          type="text/css"
          href="css/<span class="red">noscript.css</span>">
&lt;/noscript></pre></code>
                </td>
                <td style="width: 300px; color: #555;">
                    Если теги <code>&lt;script></code> не работают, то запускается код внутри <code>&lt;noscript></code>
                    и стили переопределяются. Для любого сайта нужно это прорабатывать (Прогрессивное улучшение).
                </td>
            </tr>

            <tr>
                <td style="color: black; font-weight: bold; width: 300px;">
                    Можно обойтись и без тегов <code>&lt;noscript></code> написав js-код, который будет менять класс
                    у тега <code>&lt;html></code>
                </td>

                <td style="width: 400px;">
                    <code><pre>&lt;html class="<span class="red">no-js</span>"><hr>
var html = document.documentElement;
html.ClassName = html.ClassName.replace("<span class="red">no-js</span>","<span class="red">js</span>");</pre></code>
                </td>
                <td style="width: 300px; color: #555;">
                    Этот код будет менять класс у тега <code>&lt;html></code>, если JS работает, если JS не работает,
                    то вся интеративность будет скрыта в классе <span class="red">.no-script</span><br>
<code><pre><span class="red">.no-js</span> button {display: none;}
<span class="red">.js</span> button {display: block;}</pre></code>
                </td>
            </tr>
        </table>

        <h3>Предварительная загрузка изображений</h3>
        <b>var newPhoto = new Image();</b> (создание нового изображения) <hr>
        <pre><code>var preloadImages = ['img/photo1.jpg', 'img/photo2.jpg', 'img/photo3.jpg'];
for (var i = 1; i < preloadImages.lenght; i++) {
  <span class="red">new Image()</span>.src = preloadImages[i];
}

</code></pre>

<h3>Чтобы скрипт выполнялся после загрузки всего:</h3>
<pre><code><span class="red">windows</span>.onload = function() {
  <span class="gray">// код JS</span>
};</code></pre>

<code>document.write('Something'); <span class="gray">// Будет заново отрисовывать страницу и сбросит всё, что уже было загружено, поэтому если есть скрипт с этим выражением, то его нужно размещать в <b>head</b></span></code>

    <h2><code>debugger;</code> - остановка кода (breakpoint)</h2>
	</div>
</div>

<div class="footer">
	<div class="layout-positioner">
		<p class="footer-text">Разработчик: Евгений Леухин<br>
							   EvgenyLeukhin@yandex.ru</p>

		<p class="footer-copyright">© 2016 - 2019</p>
	</div>
</div>





</body>
</html>
