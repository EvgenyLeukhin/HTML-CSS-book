<!DOCTYPE html>
<html lang="ru">

<head>
  <title>Мой Справочник | Git</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="../css/layout.css">
  <style>
    .item {
      display: flex;
      align-items: flex-start;
      margin-bottom: 15px;
      border-bottom: 1px solid #ccc;
    }
    .item code {
      color: deeppink;
      padding-right: 25px;
      min-width: 50%;
    }
    .item > * {
      margin: 0;
      font-size: 1rem;
      line-height: 1.3rem;
    }
    h3 {
      margin-top: 25px;
    }
  </style>
</head>

<body>
  <header class="_header">
    <div class="layout-positioner clearfix">

      <div class="header-title">
        <b><a href="../index.html">Справочник DESIGN/HTML/CSS</a></b>
      </div>

      <div class="header-logo"></div>

      <ul class="header-menu">
        <li><a class="active" href="../index.html">Главная</a></li>
        <li><a href="../design-page.html">WEB-DESIGN</a></li>
        <li><a href="../html-page.html">HTML</a></li>
        <li><a href="../css-page.html">CSS</a></li>
        <li><a href="../css3-page.html">CSS3</a></li>
        <li><a href="../javascript-page.html">jQ</a></li>
        <li><a href="../php.html">PHP</a></li>
      </ul>
    </div>
  </header>

  <main class="layout-positioner clearfix">
    <div class="vert-menu-cont">
      <ul class="vert-menu">
        <li><a href="../html-pages/internet.html">Интернет</a></li>
        <li><a href="../html-pages/editors.html">Редакторы кода</a></li>
        <li><a class="active" href="../js-pages/git.html">Git</a></li>
        <li><a href="../html-pages/vim.html">SSH + VIM</a></li>
        <li><a href="../js-pages/linux.html">Linux</a></li>
        <li><a href="../html-pages/macos.html">Mac OS</a></li>
        <li><a href="../html-pages/console.html">Консоль</a></li>
        <li><a href="../design-pages/programs.html">Программы</a></li>
        <li><a href="../html-pages/seo.html">SEO & Sharing</a></li>
        <li><a href="../html-pages/optimization.html">Оптимизация</a></li>
        <li><a href="../design-pages/photo.html">Фотография</a></li>
        <li><a href="../html-pages/logic.html">Logic Pro X</a></li>
      </ul>

    </div>
    <div class="content clearfix">

      <h2>Мой Справочник | Git</h2>

      <h3><mark>Настройка:</mark></h3>
      <div class="item">
        <code>git config --list</code>
        <p>Показывает список конфигураций</p>
      </div>
      <div class="item">
        <code>git config --global user.name "Username"</code>
        <p>Установить глобальное имя пользователя</p>
      </div>
      <div class="item">
        <code>git config --global user.email "user@email.com"</code>
        <p>Установить глобально адрес почты пользователя</p>
      </div>
      <div class="item">
        <code>git config --global push.default simple</code>
        <p>Настройка команды git push. Будет пушить только в текущую ветку</p>
      </div>
      <div class="item">
        <code>git help &lt;git_command&gt;</code>
        <p>Справочник для отдельных гит-команд</p>
      </div>

      <h3><mark>Репозиторий:</mark></h3>
      <div class="item">
        <code>git init (--bare)</code>
        <p>Создать (только для истории, без файлов)</p>
      </div>
      <div class="item">
        <code>git clone &lt;path&gt; (.)</code>
        <p>Склонировать (в текущую директорию)</p>
      </div>
      <div class="item">
        <code>git remote add &lt;rep_name&gt; &lt;path&gt;</code>
        <p>Привязать удаленный репозиторий</p>
      </div>
      <div class="item">
        <code>git remote rm &lt;rep_name&gt;</code>
        <p>Отвязать удаленный репозиторий</p>
      </div>
      <div class="item">
        <code>git remote -v</code>
        <p>Посмотреть привязанные репозитории</p>
      </div>

      <h3><mark>Ветки:</mark></h3>
      <div class="item">
        <code>git branch (-v)</code>
        <p>Показать все ветки репозитория (с инфой), текущую ветку</p>
      </div>
      <div class="item">
        <code>git branch &lt;branch_name&gt;</code>
        <p>Создать новую ветку</p>
      </div>
      <div class="item">
        <code>git checkout &lt;branch_name&gt;</code>
        <p>Переключиться в указанную ветку</p>
      </div>
      <div class="item">
        <code>git checkout (-b) &lt;branch_name&gt;</code>
        <p>Создать новую ветку (и сразу переключиться в неё)</p>
      </div>
      <div class="item">
          <code>git checkout -b &lt;branch_name&gt; &lt;commit_hash&gt;</code>
          <p>Создать новую ветку (и сразу переключиться в неё) от указанного коммита</p>
        </div>
      <div class="item">
        <code>git branch -d (-D) &lt;branch_name&gt;</code>
        <p>Удалить указанную ветку (принудительно)</p>
      </div>
      <div class="item">
        <code>git merge &lt;branch_name&gt; (--ff-only)</code>
        <p>Сделать слияние указанной ветки с текущей (принудительно)</p>
      </div>
      <div class="item">
          <code>git merge --abort</code>
          <p>Отменить слияние</p>
        </div>

      <h3><mark>Изменения:</mark></h3>
      <div class="item">
        <code>git status</code>
        <p>Статус файлов</p>
      </div>
      <div class="item">
        <code>git add &lt;filename&gt; &lt;filename2&gt; (.)</code>
        <p>Добавить указанные (все) измененные файлы к коммиту</p>
      </div>
      <div class="item">
        <code>git checkout &lt;filename&gt; &lt;filename2&gt;</code>
        <p>Убрать указанные измененные файлы из коммита</p>
      </div>
      <div class="item">
        <code>git checkout &lt;filename&gt; &lt;commit_hash&gt;</code>
        <p>Вернуть состояние файла, какое оно было в указанном коммите</p>
      </div>
      <div class="item">
        <code>git checkout -- .</code>
        <p>Убрать измененния во всех файлах</p>
      </div>
      <div class="item">
        <code>git reset HEAD &lt;filename&gt;</code>
        <p>Если случайно добавили файл, а потом решили, что нужно его убрать из коммита, но при этом не удалять в нём изменения</p>
      </div>
      <div class="item">
        <code>git rm (--cached) &lt;filename&gt;</code>
        <p>Удалить файл из коммита и с диска (не удалять с диска), если случайно добавили ненужный файл в коммит и закоммитили его, далее выполнить команду ниже</p>
      </div>
      <div class="item">
        <code>git commit --amend --no-edit</code>
        <p>Измнить последний коммит, без изменения сообщения, если удалялись или изменялись файлы в коммите</p>
        </div>
      <div class="item">
        <code>git commit -m "&lt;commit_message&gt;"</code>
        <p>Создать коммит</p>
      </div>
      <div class="item">
        <code>git commit --amend -m "&lt;commit_message&gt;"</code>
        <p>Измнить коммит-сообщение</p>
      </div>
      <div class="item">
        <code>git diff &lt;filename&gt;</code>
        <p>Посмотреть непроиндексированные изменения (до git add)</p>
      </div>
      <div class="item">
        <code>git diff --staged &lt;filename&gt;</code>
        <p>Посмотреть проиндексированные изменения (после git add)</p>
      </div>
      <div class="item">
        <code>git log (-3)</code>
        <p>Получить список коммитов до текущего (последних трёх)</p>
      </div>
      <div class="item">
        <code>git log --oneline</code>
        <p>Получить список коммитов до текущего в одну строку</p>
      </div>
      <div class="item">
        <code>git log --all</code>
        <p>Получить всю историю (не только до текущего)</p>
      </div>
      <div class="item">
        <code>git log --oneline --all --graph</code>
        <p>Получить всю историю (с графиком)</p>
      </div>
      <div class="item">
        <code>git show &lt;commit_hash&gt;</code>
        <p>Посмотреть какие были изменения в этом коммите</p>
      </div>
      <div class="item">
          <code>git cat-file -p &lt;commit_hash&gt;</code>
          <p>Посмотреть информацию о коммите</p>
        </div>
      <div class="item">
        <code>git checkout &lt;commit_hash&gt;</code>
        <p>Переключиться в указанный коммит</p>
      </div>
      <div class="item">
        <code>git checkout &lt;branch_name&gt;</code>
        <p>Переключиться в последний коммит указанной ветки</p>
      </div>
      <div class="item">
        <code>git reset &lt;commit_hash&gt; (--hard)</code>
        <p>Сбросить историю до указанного коммита (принудительно)</p>
      </div>

      <h3><mark>Отправка / Принятие:</mark></h3>
      <div class="item">
        <code>git pull &lt;remote_name&gt; &lt;branch_name&gt;</code>
        <p>Принять изменения</p>
      </div>
      <div class="item">
        <code>git push &lt;remote_name&gt; &lt;branch_name&gt;:&lt;remote_branch_name&gt; (-f)</code>
        <p>Отправить изменения (принудительно)</p>
      </div>

      <h3><mark>Rebase:</mark></h3>
      <p>Перебазирование ветки, сдвигаем первый коммит дочерней ветки в состояние последнего коммита родительской.</p>
      <p>Актуально, когда родительская ветка наполниласть новыми коммитами после создания дочерней ветки и при этом перебазировании можно заблаговременно исправить все конфликты, находясь в дочерней ветке.</p>
      <div class="item">
        <code>git checkout &lt;parent_brunch_name&gt;</code>
        <p>1. Переключаемся в родительскую ветку</p>
      </div>

      <div class="item">
        <code>git pull origin &lt;parent_brunch_name&gt;</code>
        <p>2. Забираем все новые коммиты</p>
      </div>

      <div class="item">
        <code>git checkout &lt;child_brunch_name&gt;</code>
        <p>3. Переключаемся в дочернюю ветку</p>
      </div>

      <div class="item">
        <code>git rebase &lt;parent_brunch_name&gt;</code>
        <p>4. Перебазируемся в родительскую ветку. При этом могут возникать конфликты, которые нужно разрешать</p>
      </div>

      <div class="item">
        <code>git add &lt;conflict_file_name&gt;</code>
        <p>5. Разрешаем конфликты, сохраняем, добавляем разрешенные файлы в отслеживание</p>
      </div>

      <div class="item">
        <code>git rebase --continue</code>
        <p>6. Продолжаем перебазирование (5 и 6 пункты могут повторяться несколько раз)</p>
      </div>

      <div class="item">
        <code>git push origin -f</code>
        <p>7. Если все конфликты решены и перебазирование закончено, то можно форсированно пушить изменения дочерней ветки</p>
      </div>

      <h3><mark>Squash commits:</mark></h3>
      <p>Схлопывание нескольких коммитов в один.</p>
      <p>Актуально, когда мы имеем много непонятных коммитов в процессе разработки и хотим оставить один понятный, когда работа по созданию нового функционала уже закончена, и при этом в истории останется один понятый коммит.</p>
      <div class="item">
        <code>git rebase -i &lt;parent_brunch_name&gt;</code>
        <p>1. Делаем ребейз ветки (интелектуальный), возможны моменты, описанные выше.</p>
      </div>
      <div class="item">
        <code>
          1. pick<br>
          2. pick -> s<br>
          3. pick -> s<br>
          ...<br>
          10. pick -> s
        </code>
        <p>2. Меняем в vim pick -> s (или squash), кроме первого коммита</p>
      </div>
      <div class="item">
        <code>"Add new feature"</code>
        <p>3. Пишем финальный commit-message</p>
      </div>
      <div class="item">
        <code>git push origin -f</code>
        <p>4. Форсированно пушим эти изменения</p>
      </div>
    </div>
  </main>

  <footer class="footer">
    <div class="layout-positioner">
      <p class="footer-text">Разработчик: Евгений Леухин<br>EvgenyLeukhin@yandex.ru</p>
      <p class="footer-copyright">© 2016 - 2020</p>
    </div>
  </footer>

</body>
</html>
