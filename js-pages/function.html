<!DOCTYPE html>
<html lang="ru">

<head>
    <link rel="stylesheet" type="text/css" href="../css/layout.css">
</head>

<body>

<div class="layout-positioner clearfix">
  <div class="content clearfix">

  <h2>Мой Справочник | JavaScript | Функции</h2>

    <table class="discription-table" border-spacing: 5px;>
    <tr>
      <th colspan="4" style="font-size: 2em; color: darkcyan;">Колбек-функция (callback)</th>
    </tr>
    <tr>
      <td colspan="2" style="color: black; font-weight: bold; width: 300px;">Вызов функции по окончанию работы другой функции</td>
      <td style="width: 400px;">
        <code style="font-size:1em;">
          <span class="gray">// <b style="font-size: 2em;">I способ</b> (через св-во объекта)</span> <br>
          'use strict'; <br>
          var Marx = { <br>
          &nbsp;&nbsp;<span class="red">catchPokemons</span>: function() { <br>
          &nbsp;&nbsp;&nbsp;&nbsp;var started = Date.now();<br>
          &nbsp;&nbsp;&nbsp;&nbsp;while (Date.now() - started &lt; 100) {<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log('I\'m gonna get them all!');<br>
          &nbsp;&nbsp;&nbsp;&nbsp;} <br>
          <span class="gray">// условие вызова колбэка</span> <br>
          &nbsp;&nbsp;&nbsp;&nbsp;if (typeof this.<mark>callBack</mark> === 'function') {<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.<mark>callBack</mark>();<br>
          &nbsp;&nbsp;&nbsp;&nbsp;}<br>
          &nbsp;&nbsp;}, <br>
          &nbsp;&nbsp;<span class="gray">// создаём св-во callBack изначально равное null </span><br>
          &nbsp;&nbsp;<span class="red">callBack: </span> null <br>
          };<br><br>

          <span class="gray">// вызов функии, КОЛБЭКА НЕТ</span> <br>
          Marx.<span class="red">catchPokemons</span>(); <br><br>

          <span class="gray">// переопределяем св-во объекта - создаём колбэк</span> <br>
          Marx.<mark>callBack</mark> = function() { <br>
          &nbsp;&nbsp;console.log('I\'m calling Carl!');<br>
          }; <br><br>

          <span class="gray">// вызываем основную функцию и КОЛБЭК</span> <br>
          Marx.<span class="red">catchPokemons</span>(); <hr>
          <span class="gray">// <b style="font-size: 2em;">II способ</b> (через параметр функции)</span> <br>
          <span class="gray">// более предпочтительный</span> <br></code>
          <pre><code>var catchPokemons = function(<mark>cb</mark>) {
  var started = Date.now();
  while (Date.now() - started < 100) {
    console.log('I\'m gonna get them all');
  }
  if (typeof <mark>cb</mark> === 'function') { <mark>cb</mark>(); }
};

<span class="gray">// вызов колбека</span>
catchPokemons(function() {
  return console.log('Call to Carl');
});</code></pre>
      </td>
      <td rowspan="1" style="width: 300px; color: #555;">Простыми словами, это вызов какой-либо функции (колбэк-функции) по окончанию работы какой-либо основной функции. Эти функциии каким-то образом связаны, колбек должен знать, когда выполниться основная, чтобы выполниться самой. <hr>
      В параметр функции записываем функцию, и эта колбек-функция выполниться после  выполнения основной функции</td>
    </tr>

  </table>

  </div>
</div>


</body>
</html>
