<!DOCTYPE html>
<html lang="ru">

<head>
  <title>Мой Справочник | Webpack</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="../css/layout.css">
  <style>
    code { font-size: 1.5em; }
    hr   { color: pink; }
    ol { padding-left: 0;  list-style-position: inside;}
    .flexy {
      display: flex;
      flex-flow: row wrap;
    }
    .flexy > div {
      padding: 5px;
      margin: 5px;
      margin-bottom: 15px;
      /* outline: 1px solid maroon; */
      width: 150px;
    }
    .flexy > div ul {
      list-style-position: inside;
      padding-left: 0;
      margin: 0;
    }
    .flexy > div h3 {
      margin: 0;
      margin-bottom: 10px;
    }
  </style>
</head>

<body>
  <div class="header">
    <div class="layout-positioner clearfix">
      <div class="header-title"><strong><a href="../index.html">Справочник HTML/CSS/JavaScript</a></strong></div>
      <div class="header-logo"></div>
      <ul class="header-menu">
        <li><a href="../index.html">Главная</a></li>
        <li><a href="../design-page.html">WEB-DESIGN</a></li>
        <li><a href="../html-page.html">HTML</a></li>
        <li><a href="../css-page.html">CSS</a></li>
        <li><a href="../css3-page.html">CSS3</a></li>
        <li><a class="active" href="../javascript-page.html">JS</a></li>
        <li><a href="../php.html">PHP</a></li>
      </ul>
    </div>
  </div>

  <div class="layout-positioner clearfix">
    <div class="vert-menu-cont">
      <ul class="vert-menu">
        <li>
          <a href="#">Основы</a>
          <ul class="sub-menu sub-menu9">
            <li><a href="js-lang.html">Язык JS</a></li>
            <li><a href="load.html">Загрузка</a></li>
            <li><a href="types.html">Типы данных</a></li>
            <li><a href="var.html">Переменные</a></li>
            <li><a href="operators.html">Операторы</a></li>
            <li><a href="algorythm.html">Алгоритмы</a></li>
            <li><a href="if-else.html">Условия</a></li>
            <li><a href="cycle.html">Циклы</a></li>
            <li><a href="math.html">Math</a></li>
          </ul>
        </li>
        <li><a href="array.html">Массивы</a></li>
        <li><a href="function.html">Функции</a></li>
        <li><a href="object.html">Объекты</a></li>
        <li>
          <a href="#">JS &amp; HTML</a>
          <ul class="sub-menu sub-menu6">
            <li><a href="complete.html">Вывод данных</a></li>
            <li><a href="dom.html">DOM</a></li>
            <li><a href="html-methods.html">DOM-методы</a></li>
            <li><a href="actions.html">События</a></li>
            <li><a href="modal-window.html">Мод. окно</a></li>
            <li><a href="forms.html">Формы</a></li>
          </ul>
        </li>
        <li>
          <a href="react.html"><span class="react">React</span></a>
          <ul class="sub-menu sub-menu-react">
            <li><a href="#"></a></li>
          </ul>
        </li>
        <li>
          <a href="nodejs.html"><span class="react">node.js</span></a>
          <ul class="sub-menu sub-menu-nodejs">
            <li><a href="node-main.html">Начало работы</a></li>
            <li><a href="node-frontend.html">Frontend</a></li>
            <li><a href="node-backend.html">Backend</a></li>
            <li><a href="node-sql.html">SQL</a></li>
          </ul>
        </li>
        <li>
          <a href="#">jQuery</a>
          <ul class="sub-menu sub-menu7">
            <li><a href="jquery-html.html">JQuery basics</a></li>
            <li><a href="jquery-func.html">jQuery-функции</a></li>
            <li><a href="jquery-actions.html">jQuery-события</a></li>
            <li><a href="jquery-effects.html">jQuery-эффекты</a></li>
            <li><a href="jquery-forms.html">jQuery-формы</a></li>
            <li><a href="jquery-plugins.html">jQuery-плагины</a></li>
            <li><a href="jquery-examples.html">Примеры</a></li>
          </ul>
        </li>
        <li><a href="ajax.html">Ajax</a></li>
        <li>
          <a href="canvas.html">Canvas</a>
          <ul class="sub-menu sub-menu9">
            <a href="canvas.html">Настройка</a>
            <a href="canvas-figures.html">Фигуры</a>
            <a href="canvas-text.html">Текст</a>
            <a href="canvas-animation.html">Примеры</a>
          </ul>
        </li>

        <li><a href="modules.html">Классы</a></li>
        <li><a class="active" href="webpack.html"><span class="react">Webpack</span></a></li>
        <li><a href="../css3-pages/grunt.html">Grunt</a></li>
        <li><a href="../css3-pages/gulp.html">Gulp</a></li>
      </ul>
    </div>

    <div class="content clearfix">

      <h2>Мой Справочник | Webpack</h2>
      <a href="https://github.com/webpack/webpack" target="_blank">Docs</a>
      <table class="new-table">
        <th colspan="3">
          <code>Webpack</code>
        </th>
        <tr>
          <td>
            <h2>Описание</h2>
          </td>
          <td>
            Webpack - это bundler (упаковщик).
            <br> Его работа включает 4 этапа:
            <ol>
              <li>
                <b>Entry point</b> (Точка входа. App.js или index.js)
                <br>
                <br>
              </li>
              <li>
                <b>Loaders</b> - загрузчики (они загружают и преобразуют файлы). Их работа состоит в компиляции файлов (JSX -&gt; js, less/scss -&gt; css). <br>
                Лоадеры загружают файлы в Webpack, чтобы Webpack мог с ними работать
                <br>
                <br>
              </li>
              <li>
                <b>Plugins</b> - плагины (они выполняют разлючные функци, например, минификацию)
                <br>
                <br>
              </li>
              <li>
                <b>Output</b> - выходная точка (build/bundler.js)</li>
            </ol>
          </td>
          <td>
            Вся его работа выполняется вокруг главного файла <b>entry point: index.js</b> <br><br>
            Указали вход,<hr> загрузили всё остальное - обработали,<hr> пропустили через плагины,<hr> упаковали
          </td>
        </tr>
        <th colspan="3">
          <code>Webpack - установка npm-пакетов</code>
        </th>
        <tr>
          <td><h2>npm-пакеты</h2> для сборки на Webpack</td>
          <td>
            <div class="flexy">
              <div>
                <h3>Webpack</h3>
                <ul>
                  <li>webpack</li>
                  <li>webpack-cli</li>
                  <li>webpack-dev-server</li>
                </ul>
              </div>

              <div>
                <h3>Babel</h3>
                <ul>
                  <li>babel-core</li>
                  <li>babel-preset-env</li>
                  <li>babel-loader</li>
                </ul>
              </div>

              <div>
                <h3>Loaders</h3>
                <ul>
                  <li>css-loader</li>
                  <li>style-loader</li>
                  <li>file-loader</li>
                </ul>
              </div>

              <div>
                <h3>Plugins</h3>
                <ul>
                  <li>rimraf</li>
                  <li>autoprefixer</li>
                  <li>eslint</li>
                </ul>
              </div>

              <div>
                <h3>React<small></h3>
                <ul>
                  <li>react</li>
                  <li>react-dom</li>
                </ul>
              </div>
            </div>
          </td>
          <td>
            Все пакеты устнавливаются с флагом --save-dev, <b>React</b> c --save
          </td>
        </tr>
        <th colspan="3">
          <code>webpack.config.js</code>
        </th>
        <tr>
          <td>Структура файла конфига</td>
          <td>
            <code>
              <span style="color: #ccc; font-size: .88em;">// 3.1 - Подключение плагинов через const</span> <br>
              const path = require('<mark>path</mark>'); <br><br>
              <span style="color: #ccc; font-size: .88em;">// Экпорт настроек для обращения к npm-пакетам</span>
<pre><code>module.exports = {

  <mark>entry</mark>: ..., <span style="color: #ccc; font-size: .88em;">// 1. Точка входа</span>

  <mark>output</mark>: {   <span style="color: #ccc; font-size: .88em;">// 4. Точка выхода</span>
    path: ...,             <span style="color: #ccc; font-size: .88em;">// директория</span>
    filename: ...,         <span style="color: #ccc; font-size: .88em;">// название файла</span>
    publicPath: ...        <span style="color: #ccc; font-size: .88em;">// директория для сохрания файлов</span>
  },

  <span style="color: #ccc; font-size: .88em;">// 2. настройки-правила для загрузчиков</span>
  <mark>module</mark>: {
    rules: [
      { loader#1 },
      { loader#2 },
      { loader#3 }
    ]
  },

  <span style="color: #ccc; font-size: .88em;">// 3.2. настройка плагинов</span>
  <mark>plugins</mark>: [
    new pluginFunc#1({...}),
    new pluginFunc#2({...}),
    new pluginFunc#3({...})
  ]

};</code></pre>
            </code>
          </td>
          <td>
            <b>path</b> - встроенный в node модуль, который позволяет работать с диреториями <hr>

          </td>
        </tr>
        <tr><th colspan="3"><code>1. Entry point</code></th></tr>
        <tr>
          <td></td>
          <td>
            <code>entry: './src/<mark>index.js</mark>',</code>
          </td>
          <td>Указывается источник всего, что в себя всё собирает</td>
        </tr>
        <tr><th colspan="3"><code>2. Loaders</code></th></tr>
        <tr>
          <td><h2>babel-loader</h2></td>
          <td><code>
            { <br>
            &nbsp;&nbsp;use: '<mark>babel-loader</mark>',<br>
            &nbsp;&nbsp;test: /\.js$/, <br>
            <!-- &nbsp;&nbsp;exclude: 'node_modules' <br> -->
            },
          </code>
          <p><h2>use</h2> - использовать для загрузки (какой загрузчик)</p>
          <p><h2>test</h2> - js-регулярное выражение, содержащее расширение файла (с каким типом файлов загрузчик будет работать)</p>
          <p><h2>exclude</h2> - исключить директорию (чтобы внутри неё ничего не обрабатывал)</p>
          <h2>.babelrc - подключение пресета</h2>
<pre><code>{
  "presets": [
    "babel-preset-env"
  ]
}</code></pre>

          </td>
          <td>Позволяет транспилировать ES6, ES7 в поддерживающий всеми браузерами формат ES5</td>
        </tr>
        <tr>
          <td><h2>css-loader + style-loader</h2></td>
          <td>
            <pre><code>{
  use: [<mark>'style-loader', 'css-loader'</mark>],
  test: /\.css$/
},</code></pre>
<p>Позволяет импортировать css-файлы напрямую в js-код (css-loader).  <br>
 Вставляет css-код, полученный из импортированных css-файлов, в тег &lt;style&gt; в index.html. Порядок работы загрузчиков справа-налево - снизу-вверх</p>
</td>
          <td>Круто, правда?!!!</td>
        </tr>
        <tr>
          <td><h2>postcss-loader</h2></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td><h2>style-loader</h2></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td><h2>file-loader</h2></td>
          <td></td>
          <td></td>
        </tr>
        <tr><th colspan="3"><code>3. Plugins</code></th></tr>
        <tr>
          <td><h2>Подключение</h2></td>
          <td>
            <code>const <mark>path</mark> = require('path');</code> <br>
            <code>const <mark>rimraf</mark> = require('rimraf');</code> <br>
            <code>const <mark>autoprefixer</mark> = require('autoprefixer');</code> <br>
          </td>
          <td>Подключаются так же через константы в начале файла как и gulp</td>
        </tr>
        <tr>
          <td><h2>Настройка</h2></td>
          <td></td>
          <td></td>
        </tr>
        <tr><th colspan="3"><code>4. Output</code></th></tr>
        <tr>
          <td></td>
          <td>
<pre><code>output: {
  path: <mark>path.resolve</mark>(<mark>__dirname</mark>, 'dist'),
  filename: <mark>'bundle.js'</mark>,
  publicPath: <mark>'/dist/'</mark>
},</code></pre>
<p>
  <h2 style="display: inline-flex;">path</h2> - путь до директории, куда "ложить" бандл.
  Используется вместе со встроенным node-модулем path (его нужно подключать через const). <br>
  Метод resolve() вторым параметром создаёт вложенную директорию в
  __dirname (root-директория проекта)
</p>

          </td>
          <td>

            <hr>
            <h2>filename</h2> - название файла <hr>
            <h2>puclicPath</h2> - путь для копирования остальных файлов, связанных с entry point (стили, шрифты, изображения)
          </td>
        </tr>
        <tr><th colspan="3"><code>package.json</code></th></tr>
        <tr>
          <td><h2>Скрипты для запуска</h2></td>
          <td>
            <code>"scripts": { <br>
            &nbsp;&nbsp;"<mark>dev</mark>": "webpack-dev-server --hot --open --port 8888 --mode development",<br>
            &nbsp;&nbsp;"<mark>build</mark>": "rimraf dist && webpack --config webpack.prod.config.js  --progress --profile --color --mode production"<br>
  },</code>
          </td>
          <td>--mode указывает принадлежность запуска</td>
        </tr>

      </table>

    </div>
  </div>

  <div class="footer">
    <div class="layout-positioner">
      <p class="footer-text">Разработчик: Евгений Леухин
        <br> EvgenyLeukhin@yandex.ru
      </p>

      <p class="footer-copyright">© 2016 - 2019</p>
    </div>
  </div>





</body>

</html>
